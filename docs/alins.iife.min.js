var Alins=function(A){"use strict";function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function I(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function n(e,n,t){n&&I(e.prototype,n),t&&I(e,t),Object.defineProperty(e,"prototype",{writable:!1})}function l(e,n,t){return(n=M(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e,n){var t,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=P(e))||n&&e&&"number"==typeof e.length)return r&&(e=r),t=0,{s:n=function(){},n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function M(e){e=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===n?String:Number)(e);if("object"!=typeof(t=t.call(e,n||"default")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}var B=/\(.*?\)/;function q(e){return e instanceof Array&&e.raw instanceof Array}e=navigator.userAgent;var e=/Safari/.test(e)&&!/Chrome/.test(e);var m=Symbol("t"),C=Symbol("u"),D=Symbol("c"),g=Symbol("e"),a=Symbol("t"),b=Symbol("pp");function W(t,e,r){return t[C].shallow?e:e.map(function(e,n){return e&&"object"===y(e)&&!T(e)?$(e,{commonLns:t[C].commonLns,path:t[C].path,key:"".concat(r+n)}):e})}function _(e,n,t,r,i,o){null!=(e=e[a])&&e.forEach(function(e){e({type:n,data:r,index:t,count:i,fromAssign:o})})}function z(e,n){e[C].replaceLns=!1;n=n();return delete e[C].replaceLns,n}A.AlinsType=void 0,(t=A.AlinsType||(A.AlinsType={}))[t.Proxy=1]="Proxy",t[t.Ref=2]="Ref",t[t.BindResult=3]="BindResult",A.OprateType=void 0,(t=A.OprateType||(A.OprateType={}))[t.Replace=0]="Replace",t[t.Remove=1]="Remove",t[t.Insert=2]="Insert",t[t.Push=3]="Push",t[t.Sort=4]="Sort";var U={splice:function(e,n){var t=this.target,r=this.origin;e>=t.length?(e=t.length,n=0):(void 0===n||e+n>t.length)&&(n=t.length-e);for(var i=arguments.length,o=new Array(2<i?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var u=o.length,c=Math.min(n,u),l=e+c;n<u?(c=W(t,o.slice(c),l),_(t,A.OprateType.Insert,l,c,c.length)):(c=n-u,_(t,A.OprateType.Remove,l,t.slice(l,l+c),c));for(var s=e;s<l;s++){var f=o[s-e];_(t,A.OprateType.Replace,s,[f,t[s]],1)}var h=t[C].scopeItems,d=null==h?void 0:h.slice(e,e+o.length).map(function(e){return e[h.key].v});return z(t,function(){return r.call.apply(r,[t[C].proxy,e,n].concat(v(d)))})},push:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=this.target,i=this.origin,n=W(r,n,r.length);return _(r,A.OprateType.Push,r.length,n,n.length),i.call.apply(i,[r[C].proxy].concat(v(n)))},pop:function(){var e=this.target,n=this.origin;return 0<e.length&&_(e,A.OprateType.Remove,e.length-1,[e[e.length-1]],1),n.call(e[C].proxy)},unshift:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=this.target,i=this.origin,n=W(r,n,0);return _(r,A.OprateType.Insert,0,n,n.length),z(r,function(){return i.call.apply(i,[r[C].proxy].concat(v(n)))})},shift:function(){var e=this.target,n=this.origin;return 0<e.length&&_(e,A.OprateType.Remove,0,e[0],1),n.call(e[C].proxy)},replace:function(e,n,t,r){_(e,A.OprateType.Replace,n,[r,t],1),e[n]=r}},H={};function G(e){H.map=e}function V(e,n,t){return U[n]&&e[a]&&!e[n].hack?(e[n]=U[n].bind({target:e,origin:e[n]}),e[n].hack=!0,e[n]):H[n]?H[n].bind(e):Reflect.get(e,n,t)}function X(e,n,t){return e[a]?(U.replace(e,parseInt(n),e[n],t),!0):g}function J(e,n){if(!e[a])return g;n[a]=e[a];for(var t=e.length,r=n.length,i=Math.min(t,r),o=0;o<i;o++)_(e,A.OprateType.Replace,o,[n[o],e[o]],1),e[C].data[o]=n[o];return t!==r&&(r<t?(_(e,A.OprateType.Remove,i,null,t-r),e.splice(i)):(t=n.slice(i),e.push.apply(e,v(t)))),!0}var i=null;function K(e){i=e}function Q(){return i}function Y(e,n){K(e);e=n();return K(null),e}function Z(){var n=[];return i={clean:function(){n.forEach(function(e){e()}),n=null},collect:function(e){n&&n.push(e)}}}var E=null,w=!1;function ee(){return w}function ne(e,n){E=n=n||e,w=!1;n=e();return E=null,n}function te(e){return(null==e?void 0:e[m])===A.AlinsType.Ref}function T(e){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(null==e||!e[C]))return!1;e=null==e?void 0:e[m];return e===A.AlinsType.Proxy||e===A.AlinsType.Ref}function u(e){return l({v:e},m,A.AlinsType.Ref)}function c(e){return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]||!e||"object"!==y(e)?l({v:e},m,A.AlinsType.Ref):e}function re(a,n,e){function t(n,t,r,i,e){function o(e){e(t,r,"".concat(u.join("."),".").concat(n),n,i)}e&&null!=(e=a[C].commonLns)&&e.forEach(o),null!=(e=a[C].lns[n])&&e.forEach(o),null!=(e=a[C].extraLns)&&e.forEach(function(e){null!=(e=e[n])&&e.forEach(o)})}var u=n?[].concat(v(e),[n]):v(e),e=Array.isArray(a);a[C].commonLns&&(a[C].lns[n]=new Set,a[C].commonLns.forEach(function(e){a[C].lns[n].add(e)})),Object.assign(a[C],{path:u,triggerChange:t,forceWrite:function(e){for(var n in e)t(n,e[n],a[n]);Object.assign(a,e)},subscribe:function(e){var n,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=a[C];for(n in k(r,"commonLns",e),a)k(r.lns,n,e),t&&T(a[n])&&a[n][C].subscribe(e,t)},isArray:e,forceUpdate:function(){for(var e in a)t(e,a[e],a[e])}})}function $(u){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.commonLns,t=e.lns,c=void 0===t?{}:t,t=e.shallow,l=void 0!==t&&t,s=e.set,i=e.get,t=e.path,f=void 0===t?[]:t,t=e.key,e=void 0===t?"":t;if("Object"!==(t=(t=u).constructor.name)&&"Array"!==t||T(u,!0))return u;if(!l){var r,o=u,a=f;for(r in o){var h=o[r];if(h&&"object"===y(h))try{o[r]=$(h,{path:a,key:r})}catch(e){console.warn(e)}}}u[m]||(u[m]=A.AlinsType.Proxy),u[C]={commonLns:n,lns:c,shallow:l,data:u},re(u,e,f);var t=u[C],d=t.triggerChange,v=t.isArray,p=v?u.length:null,n=new Proxy(u,{get:function(e,n,t){var r="function"==typeof e[n];if(v&&r)return V(e,n,t);if("symbol"===y(n)||r){if(n===b)return!0}else{if(E)return w=w||!0,k(c,n,E),Reflect.get(e,n,t);if("v"===n&&i)return i()}return Reflect.get(e,n,t)},set:function(r,i,o,a){function e(){var e,n,t=Reflect.set(r,i,o,a);return v&&"length"!==i&&null!=(e=c.length)&&e.size&&u.length!==p&&Promise.resolve().then(function(){(n=u.length)!==p&&(d("length",n,p,!1,!1),p=n)}),t}if("symbol"===y(i)||"function"==typeof r[i])return e();var n=null;if(v&&"length"===i?(n=p,p=u[i]):n=r[i],o===n&&(null==(t=r[C])||!t._map))return!0;if(null===s)return console.warn("Computed 不可设置"),!0;if("v"===i&&s)return s(o,n,"".concat(f.join("."),".").concat(i),i),!0;o&&"object"===y(o)&&!l&&(T(o)?(o[b]||(o=o[C].proxy),T(n)&&!1!==u[C].replaceLns&&ie(o,n)):(n&&(n[C].removed=!0),o=$(o,{commonLns:r[C].commonLns,lns:null==n?void 0:n[C].lns,shallow:l,path:f,key:i})));var t=g;return v&&/^\d+$/.test(i)&&(t=X(r,i,o)),(t=Array.isArray(o)&&Array.isArray(n)?J(n,o):t)===g&&(t=e()),d(i,o,n,!1,void 0===n),t},deleteProperty:function(e,n){return d(n,void 0,e[n],!0),Reflect.deleteProperty(e,n)}});return u[C].proxy=n}function ie(e,n){var t,r,i=e[C],o=n[C];for(r in o.extraLns&&o.extraLns.has(i.lns)?(t=i.lns,i.lns=o.lns,o.lns=t,o.extraLns.delete(t)):i.extraLns?i.extraLns.add(o.lns):i.extraLns=new Set([o.lns]),e)T(e[r])&&T(n[r])&&ie(e[r],n[r])}function k(e,n,t){var r=e[n];(r=r||(e[n]=new Set)).has(t)||(i&&"v"===n&&i.collect(function(){r.delete(t),t=null}),r.add(t))}function d(o,a){var u,e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return"function"==typeof o?(u=g,{v:u=ne(o,function(e,n,t,r,i){e=o._update?e:o();if(function e(n,t,r,i){var o=!(2<arguments.length&&void 0!==r)||r,r=!(3<arguments.length&&void 0!==i)||i;if(n&&t&&"object"===y(n)&&"object"===y(t)&&(r||o)){if(Array.isArray(n)){if(n.length!==t.length)return}else if(Object.keys(n).length!==Object.keys(t).length)return;for(var a in n)if(!e(n[a],t[a],o,!1))return;return 1}return n===t}(u,e))return e;a(e,u,t,r,i),u=e})}):(T(o)&&o[C]&&o[C].subscribe(a,e),o)}function oe(e,n){e[a]?e[a].push(n):e[a]=[n]}var t=Symbol("b");function ae(o,e){for(var n=0;n<e.length;n++){var t=e[n];te(t)||"function"==typeof t||(o[n]="".concat(o[n]).concat(t).concat(o[n+1]),o.splice(n+1,1),e.splice(n,1),n--)}return 0===e.length?o[0]:function(t){var r=e.map(function(e){return"function"==typeof e?function(){return e()}:function(){return e.v}}),i=r.length;return d(function(){for(var e=o[0],n=0;n<i;n++)e+=r[n]()+o[n+1];return e},function(e,n){t(e,n)},!1).v}}function ue(e){if(q(e)){for(var n=arguments.length,t=new Array(1<n?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return ae(e,t)}return $(c(e))}function ce(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return T(e.v)?e:$(c(e),{shallow:n})}function s(e){var n,t="function"==typeof e,r=t?e:e.get,t=t?null:e.set,e=ne(r,function(){n[C].forceWrite(c(r(),!0))});return w?n=$(c(e,!0),{set:t,get:r}):{v:e}}function le(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return fe(n,!1)}function se(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return fe(n,!0)}function fe(i,o){return i.forEach(function(n,e){if(T(n)){var t,r={};for(t in n)!function(e){r[e]=function(){return n[e]},o&&(r[e]=s(r[e]))}(t);i[e]=r}}),Object.assign.apply(null,i)}var he=0,de={};var ve=0,f=null;function pe(e){if(e.__$removed)return e.__$removed(e),e.__$removed=null,void(--ve<=0&&(f.disconnect(),f=null))}function ye(e){e.setAttribute("__rm__",""),f?ve++:(ve=1,(f=new window.MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.removedNodes.forEach(function(e){1===e.nodeType&&(pe(e),e.querySelectorAll("[__rm__]").forEach(function(e){pe(e)}))})})})).observe(window.document.body,{childList:!0,subtree:!0}))}function me(e){return A.Renderer=e}function ge(e,n){return e.parentElement||e.parentNode||(1<arguments.length&&void 0!==n?n:null)}function be(e,n,t){t=e.indexOf(t);-1!==t&&(n=A.Renderer.isFragment(n)?Array.from(n.childNodes):[n],0===t?e.unshift.apply(e,v(n)):e.splice.apply(e,[t,0].concat(v(n))))}A.Renderer=void 0,"undefined"!=typeof window&&void 0!==window.document&&me({querySelector:function(e){return document.querySelector(e)},createElement:function(e){return document.createElement(e)},createTextNode:function(e){return document.createTextNode(e)},createEmptyMountNode:function(){return document.createComment("")},createFragment:function(){return document.createDocumentFragment()},isFragment:function(e){return e instanceof DocumentFragment},isElement:function(e){return this.isFragment(e)||e instanceof Node},onMounted:function(e){var t;void 0===(t=e).__$count?t.__$count=1:t.__$count++,t.__$m_observer||(t.__$m_observer=new window.MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){var n;1===e.nodeType&&t&&e.__$mounted&&(n=e.__$mounted(e),e.__$mounted=null,"function"==typeof n&&(e.__$removed=n,ye(e)),t.__$count--,0===t.__$count&&(t.__$m_observer.disconnect(),t.__$m_observer=null,t=null))})})}),t.__$m_observer.observe(t,{childList:!0}))},onRemoved:function(e,n){ye(n)}});var _e,h,x,Ee=function(){function e(){o(this,e),this.cacheMap=new WeakMap,this.curCache=[],this.tasks=[]}return n(e,[{key:"get",value:function(e){var n,t,r,i=this.cacheMap.get(e);return void 0===i?("string"==typeof(n=e())&&(n=A.Renderer.createTextNode(n)),this.curCache=((r=n)?A.Renderer.isFragment(r)?Array.from(r.childNodes):Array.isArray(r)?r:[r]:null)||[],this.cacheMap.set(e,this.curCache),n):(this.curCache=i||[],t=function(e){if(!e)return null;var n,t=A.Renderer.createFragment(),r=p(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.appendChild(i)}}catch(e){r.e(e)}finally{r.f()}return t}(i),this.tasks.length&&(this.tasks.forEach(function(e){e(t)}),this.tasks=[]),t)}},{key:"refreshCache",value:function(e,n){if(!this.curCache)throw new Error("CurCache is null");var t=e.parentElement;if(t){for(var r=t.childNodes,i=r.length,o=!1,a=[],u=0;u<i;u++){var c=r[u];if(o){if(c===n)break;a.push(c)}c===e&&(o=!0)}for(var l=-1,s=-1,f=this.curCache.length,h=0;h<f;h++){var d=this.curCache[h];if(d===e)l=h;else if(d===n){s=h;break}}(t=this.curCache).splice.apply(t,[l+1,s-l-1].concat(a))}}},{key:"addTask",value:function(e){this.tasks.push(e)}}]),e}(),L=(_e=!1,h=[],x=null,{next:function(e){null!=(e.parent=x)&&x.children.push(e),h.push(e),x=e},back:function(){h.pop(),x=0===h.length?(_e=!0,null):h[h.length-1]},visit:function(e,n){if(!_e||x===e)return n();h=[e],x=e;e=n();return h=[],x=null,e},current:function(){return x}}),we=function(){function e(){o(this,e),this.start=A.Renderer.createEmptyMountNode(),this.end=A.Renderer.createEmptyMountNode(),this.parent=null,this.children=[],this.branchCalls=[],this.activeIndex=-1,this.refreshList=[],this.initilized=!1,this.cache=new Ee,L.next(this)}return n(e,[{key:"wrapAnchor",value:function(e){var n=A.Renderer.createFragment();return n.appendChild(this.start),e&&n.appendChild(e),n.appendChild(this.end),n}},{key:"add",value:function(e){this.branchCalls.push(e)}},{key:"getCache",value:function(e){var n=this;return L.visit(this,function(){return n.cache.get(e)})}},{key:"initAnchor",value:function(e){return A.Renderer.isFragment(e)?(e.appendChild(this.end),e.insertBefore(this.start,e.childNodes[0]),e):this.wrapAnchor(e)}},{key:"replace",value:function(e){var n;if(e!==this.activeIndex)return n=this.branchCalls[e],this.activeIndex=e,e=this.getCache(n),this.initilized?(this.refresh(e),e):(this.initilized=!0,this.initAnchor(e))}},{key:"refresh",value:function(e){var n;this.clear()?(A.Renderer.isElement(e)&&null!=(n=this.end.parentElement)&&n.insertBefore(e,this.end),null!=(n=this.parent)&&n.refreshCache(this),this.triggerRefresh()):null!=(n=this.parent)&&n.addRefreshCall(this.refresh.bind(this,e))}},{key:"addRefreshCall",value:function(e){var n;this.start.parentElement?this.refreshList.push(e):null!=(n=this.parent)&&n.addRefreshCall(e)}},{key:"triggerRefresh",value:function(){var e;this.refreshList.length?(e=this.refreshList,this.refreshList=[],e.forEach(function(e){e()})):null!=(e=this.parent)&&e.triggerRefresh()}},{key:"quit",value:function(){L.back()}},{key:"returned",value:function(e){return!1!==(e="number"==typeof e?this.branchCalls[e]:e).returned}},{key:"refreshCache",value:function(e){this.cache.refreshCache(e.start,e.end),null!=(e=this.parent)&&e.refreshCache(this)}},{key:"clear",value:function(){var e=this.start,n=this.end;if(!n.parentElement)return!1;for(;e.nextSibling&&e.nextSibling!==n;)e.nextSibling.remove();return!0}}]),e}();var ke=function(){function t(e,n){o(this,t),this.activeIndex=-1,this.index=0,this.returnEle=g,this.matched=!1,this.refs=[],this.branch=new we,this.acceptIf(e,n,!0)}return n(t,[{key:"switchNode",value:function(e){return this.activeIndex===e||(this.activeIndex=e,this.branch.replace(e),this.branch.returned(e))}},{key:"onDataChange",value:function(e){for(var n,t=e.length,r=0;r<t;r++)if(e[r])return(n=this.switchNode(r))||r===t-1?n:this.switchNode(t-1)}},{key:"acceptIf",value:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=this.index,i=this.index++;this.refs[i]=e,this.branch.add(n),this.returnEle!==g||this.matched&&!t||("function"==typeof e?e():e.v)&&(this.matched=!0,t||(this.activeIndex=r),e=this.branch.replace(i),this.returnEle===g&&this.branch.returned(n)&&(this.returnEle=e))}},{key:"elif",value:function(e,n){return this.acceptIf(e,n),this}},{key:"else",value:function(e){return this.acceptIf(function(){return!0},e),this}},{key:"end",value:function(){var e=this;return this.acceptIf(function(){return!0},0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},!1),d(function(){return e.refs.map(function(e){return"function"==typeof e?e():e.v})},this.onDataChange.bind(this),!1),this.branch.quit(),this.returnEle!==g?this.returnEle:A.Renderer.createFragment()}}]),t}();function xe(e,n){return new ke(e,n)}var Re=function(){function t(e,n){o(this,t),this.branch=new we,this.target=e,this.caseList=n}return n(t,[{key:"run",value:function(e){for(var n=!1,t=null,r=this.caseList.length,i=0;i<r;i++){var o=this.caseList[i][0];if(Array.isArray(o)&&o.includes(e)||o===e||null===o){n=!0,t=this.branch.replace(i);break}}return t=n?t:this.branch.replace(r)}},{key:"end",value:function(){var e,n=this,t=(this.endCall=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},d(this.target,function(e){n.run(e)})),r=p(n.caseList);try{for(r.s();!(e=r.n()).done;){var i=e.value[1];i&&n.branch.add(i)}}catch(e){r.e(e)}finally{r.f()}n.branch.add(n.endCall),n.branch.quit();t=this.run(t.v);return A.Renderer.isElement(t)?t:A.Renderer.createFragment()}}]),t}();function Ae(e,n){return new Re(e,n)}function Ce(c){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],v=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"item",p=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",y=this;if(!e)return y.map(c);var m=A.Renderer.createFragment(),e=T(y),n=y.length;if(e){for(var i,g,b=A.Renderer.createEmptyMountNode(),_=[],E=[],w=(i=L.current(),{insertBefore:function(n,t,e){var r,e=ge(t,e);i?(r=i.cache,t.parentElement===e?(be(r.curCache,n,t),e.insertBefore(n,t)):r.addTask(function(e){be(r.curCache,n,t);try{e.insertBefore(n,t)}catch(e){console.warn(e)}})):e.insertBefore(n,t)},removeElement:function(n){var t,e;i?(t=i.cache,n.parentElement?(n.remove(),e=t.curCache.indexOf(n),t.curCache.splice(e,1)):t.addTask(function(){n.remove();var e=t.curCache.indexOf(n);t.curCache.splice(e,1)})):n.remove()},addTask:function(e){null!=i&&i.cache.addTask(e)}}),k=[],x=(y[C].scopeItems=k,y[C]._map=!0,k.key=v,function(e,n){e=$({v:e},{shallow:!0});e=l({},v,e);return p&&(e[p]=$({v:n},{shallow:!0})),e}),R=function(e,n){var t,r,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:k,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:_,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:E,u=x(e,n),e=Z(),a=(a.push(e),Y(e,function(){return c(u[v],u[p]||n)})),e=a;return a?A.Renderer.isFragment(a)?0===(r=(t=a.childNodes).length)?(e=A.Renderer.createEmptyMountNode(),a.appendChild(e),0===n&&(g=e)):(e=t[r-1],0===n&&(g=t[0])):0===n&&(g=a):(e=a=A.Renderer.createEmptyMountNode(),0===n&&(g=a)),i.push(u),o.push(e),a},t=0;t<n;t++){var r=y[t],r=R(r,t);m.appendChild(r)}m.appendChild(b),oe(y,function(e){var o=e.index,a=e.count,n=e.data;switch(e.type){case A.OprateType.Push:for(var t=A.Renderer.createFragment(),r=y.length,i=0;i<n.length;i++){var u=R(n[i],r+i);t.appendChild(u)}w.insertBefore(t,b,m);break;case A.OprateType.Replace:k[o]?(n[0]!==k[o][v].v&&(k[o][v].v=n[0]),p&&(k[o][p].v=o)):k[o]=x(n[0],o);break;case A.OprateType.Remove:if(0===a)break;var c=function(){for(var e,n=o-1,t=(null==(e=_[n+a])?void 0:e.nextSibling)||b,r=n<0?g||b:_[n];r.nextSibling&&r!==t&&r.nextSibling!==t;){var i=r.nextSibling;w.removeElement(i)}n<0&&(r!==b?(g=r.nextSibling,w.removeElement(r)):g=b),_.splice(o,a),k.splice(o,a),E.splice(o,a).forEach(function(e){e.clean()})};b.parentElement?c():w.addTask(c);break;case A.OprateType.Insert:var l=[],s=[],f=[],h=A.Renderer.createFragment(),d=g,c=(n.forEach(function(e,n){e=R(e,o+n,s,l,f);h.appendChild(e)}),k.splice.apply(k,[o,0].concat(s)),_.splice.apply(_,[o,0].concat(l)),E.splice.apply(E,[o,0].concat(f)),function(){var e=0===o?d||b:_[o-1].nextSibling;ge(e,m).insertBefore(h,e)});b.parentElement?c():w.addTask(c)}})}else for(var o=0;o<n;o++){var a=c(u(y[o]),u(o));a&&m.appendChild(a)}return m}function R(e,i){var n="object"===y(e)&&!T(e)&&void 0!==e.enable,t=n?e.value:e,o=!0,a="",a=Te(t,function(e,n,t,r){a=e,o&&i(e,n,t,r)});return n&&(o=d(e.enable,function(e){i((o=e)?a:null,null,"","")}).v),i(o?a:null,void 0,"",""),a}function Te(e,n){return"function"==typeof e||T(e)&&void 0!==e.v?d(e,n).v:e}G(Ce);var $e={zIndex:1,opacity:1,flex:1,flexGrow:1,flexShrink:1};function S(e,n,t,r){"number"!=typeof t||$e[n]||(t="".concat(t,"px")),e.style[n]=r?"":t}function Le(c,e){if(null!=e){if("function"==typeof e||T(e)){var l="function"==typeof e;R(e,function(e,n,t,r,i){if("string"==typeof e)l?c.setAttribute("style",e):S(c,r,e,i);else{for(var o in e){var a=e[o];"function"==typeof a&&(a=a()),S(c,o,a)}for(var u in n)void 0===e[u]&&S(c,u,"")}})}else{if("object"!==y(e))return;for(var n in e)!function(n){R(e[n],function(e){S(c,n,e,null===e)})}(n)}return 1}}var Se={INPUT:1,SELECT:1,TEXTAREA:1};function Ne(d,e){if(null!=e)if("function"==typeof e||T(e))R(e,function(e,n,t,r,i){if("string"==typeof e){if(r&&"v"!==r)return void(i?d.removeAttribute(r):d.setAttribute(r,e));var o,i=e.matchAll(/(.*?)=(.*?)(&|$)/g),a=(e={},p(i));try{for(a.s();!(o=a.n()).done;){var u=o.value;e[u[1]]=u[2]}}catch(e){a.e(e)}finally{a.f()}var c,r=n.matchAll(/(.*?)=(.*?)(&|$)/g),l=(n={},p(r));try{for(l.s();!(c=l.n()).done;){var s=c.value;n[s[1]]=s[2]}}catch(e){l.e(e)}finally{l.f()}}for(var f in e)d.setAttribute(f,e[f]);for(var h in n)void 0===e[h]&&d.removeAttribute(h)});else{if("object"!==y(e))return;for(var n in e)!function(n){R(e[n],function(e){null===e?d.removeAttribute(e):d.setAttribute(n,e)})}(n)}}function je(c,e){if(null!=e)if("function"==typeof e||T(e))R(e,function(e,n,t,r,i){if("string"==typeof e)c.className=e;else if("boolean"==typeof e)c.classList[i||0==e?"remove":"add"](r);else{for(var o in e){var a=e[o];"function"==typeof a&&(a=a()),c.classList[!1===a?"remove":"add"](o)}for(var u in n)void 0===e[u]&&c.classList.remove(u)}});else if("object"===y(e))for(var n in e)!function(n){R(e[n],function(e){c.classList[e?"add":"remove"](n)})}(n);else"string"==typeof e&&(c.className=e)}function Oe(f){var e,n,t;if(f.isText)h=A.Renderer.createTextNode(""),""!==f.text&&(r=f.text,(t=function(e){h.textContent=e})(Te(r,t),void 0,"",""));else{var r=!!f.tag,h=r?A.Renderer.createElement(f.tag):A.Renderer.createFragment();if(f.children&&0<f.children.length&&(null!=(t=f.attributes)&&t.$html?console.warn("$html 属性的元素的子元素将失效"):function e(n,t){var r,i=p(t);try{for(i.s();!(r=i.n()).done;){var o,a=r.value;if(null!=a){if(Array.isArray(a))return void e(n,a);A.Renderer.isElement(a)?Fe(n,a):(o=Oe(Ie(a)?a:{text:a,isText:!0}),n.appendChild(o))}}}catch(e){i.e(e)}finally{i.f()}}(h,f.children)),r&&f.attributes){var i,o=f.attributes.$mount,a=(null!=(n=(e=f.attributes).$created)&&n.call(e,h),function(n){var e,t,r=f.attributes[n];if(c=h,t=r,(e=n).startsWith("on")&&((null===c[e]||"function"==typeof c[e])&&("function"==typeof t||"function"==typeof(null==t?void 0:t.listener)||"string"==typeof(null==t?void 0:t.__deco)))){var i=h,o=n,a=r;if(o=o.substring(2),"function"==typeof a)i.addEventListener(o,a);else{if(a.__deco){var u,c=a.__deco.split("-"),l=(a={listener:a.v},p(c));try{for(l.s();!(u=l.n()).done;){var s=u.value;a[s]=!0}}catch(e){l.e(e)}finally{l.f()}}i.addEventListener(o,function e(n){a.self&&n.target!==i||(a.stop&&n.stopPropagation(),a.prevent&&n.preventDefault(),a.once&&i.removeEventListener(o,e,a.capture),a.listener(n))},a.capture)}return"continue"}switch(n){case"$created":break;case"$appended":h.__$appended=r;break;case"$removed":h.__$removed=r;break;case"$mounted":h.__$mounted=r;break;case"$mount":break;case"$html":R(r,function(e){h.innerHTML=e||""});break;case"$ref":r(h);break;case"$attributes":Ne(h,r);break;case"$show":R(r,function(e){h.style.display=e?"":"none"});break;case"class":je(h,r);break;default:if("style"===n&&Le(h,r)||function(n,e,t){if(("value"===t||"checked"===t)&&(T(e)||e.__deco)){var r,i,o,a=n.tagName;if(Se[a])return r=e.__deco||y(e.v),i=(i={boolean:function(e){return"true"===e},number:function(e){return parseFloat(e)},string:function(e){return e}}[r])||function(e){return e},o=e.__deco?e.v:e,n.addEventListener("SELECT"===a?"change":"input",function(){var e=n[t];r!==y(e)&&(e=i(e)),o.v=Number.isNaN(e)?"":e}),d(o,function(e){n[t]=e},!1),n[t]=o.v,1}}(h,r,n)||function(n,e,t){var r;if(e.startsWith("class$"))return r=e.substring("class$".length),R(t,function(e){n.classList[e?"add":"remove"](r)}),1}(h,n,r)||function(n,e,t){var r;if(e.startsWith("style$"))return r=e.substring("style$".length),R(t,function(e){S(n,r,e,null===e)}),1}(h,n,r))break;R(r,function(e){null===(e="object"===y(e)?e.enable?e.value:null:e)?h.removeAttribute(n):h.setAttribute(n,e)})}});for(i in f.attributes)a(i);if(o){if(!(o="string"==typeof o?A.Renderer.querySelector(o):o))throw new Error("$mount is not a Element");Fe(o,h)}}}return h}function Fe(e,n){var t;n.__$mounted&&null!=(t=A.Renderer.onMounted)&&t.call(A.Renderer,e,n,n.__$mounted),n.__$removed&&null!=(t=A.Renderer.onRemoved)&&t.call(A.Renderer,e,n,n.__$mounted),e.appendChild(n),null!=(t=n.__$appended)&&t.call(n,n)}function Ie(e){return"object"===y(e)&&!0===e.jsx}function Pe(e){for(var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length,r=new Array(2<t?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];if("function"!=typeof e)return Oe({tag:e,attributes:n,children:r,jsx:!0});var o=null;if(n)for(var a in o=n.$mount,delete n.$mount,n){var u=n[a];T(u)||(n[a]=l({v:u},m,A.AlinsType.Ref))}return e=function(e){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=2<arguments.length?arguments[2]:void 0;if(e&&e instanceof Promise){if(!1===n)return;var r=A.Renderer.createFragment(),i=A.Renderer.createEmptyMountNode();return r.appendChild(i),e.then(function(e){if(A.Renderer.isElement(e)){var n=ge(i,r);try{n.insertBefore(e,i)}catch(e){console.log("node 已被隐藏")}finally{null!=t&&t(e),i.remove()}}}),r}return e}(e(n||{},r)),o&&Fe(o="string"==typeof o?A.Renderer.querySelector(o):o,e),e}var Me=s,Be=d;var qe=le,De=se;function We(e,n,t,r,i){return Ce.call(e,n,t,r,i)}var N,j,ze=u,Ue=xe,He=Ae,O=((j=N=N||{})[j.Element=0]="Element",j[j.Text=1]="Text",j[j.Empty=2]="Empty",j[j.Frag=3]="Frag",{render:function(e){var n=new Array(e.deep).fill("  ").join(""),e="".concat(e.innerText);console.log("".concat(n,"text: ").concat(e.trim()))}});function Ge(e,n){var t=null==(t=e._onMounted)?void 0:t.call(e,e);t&&(e._onRemoved=t),e.parentElement=n}var F=function(){function i(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";o(this,i),this.type=N.Element,this.style={},this.tagName="",this.innerText="",this._attributes={},this._listeners={},this.deep=0,this._classList=new Set,this.classList={add:function(e){n._classList.add(e)},remove:function(e){n._classList.delete(e)}},this.parentElement=null,this.children=[],this.type=e,this.tagName=r,this.innerText=t}return n(i,[{key:"textContent",get:function(){return this.innerText},set:function(e){this.innerText=e}},{key:"addEventListener",value:function(e,n){var t;this._listeners[e]||(this._listeners[e]=new Set),this._listeners[e].add(n),null!=(t=O.addEventListener)&&t.call(O,this,e,n)}},{key:"removeEventListener",value:function(e,n){var t;this._listeners[e]&&this._listeners[e].delete(n),null!=(t=O.removeEventListener)&&t.call(O,this,e,n)}},{key:"setAttribute",value:function(e,n){this._attributes[e]=n}},{key:"removeAttribute",value:function(e){delete this._attributes[e]}},{key:"getAttribute",value:function(){return""}},{key:"className",get:function(){return Array.from(this._classList).join(" ")},set:function(e){this._classList=new Set(e.split(" "))}},{key:"parentNode",get:function(){return this.parentElement}},{key:"remove",value:function(){var e=null==(e=this.parentElement)?void 0:e.children;e&&(e.splice(e.indexOf(this),1),null!=(e=this._onRemoved)&&e.call(this,this))}},{key:"innerHTML",get:function(){return this.innerText}},{key:"childNodes",get:function(){return this.childNodes}},{key:"appendChild",value:function(e){if(e.type===N.Frag){var n,t=p(e.childNodes);try{for(t.s();!(n=t.n()).done;){var r=n.value;this.appendChild(r)}}catch(e){t.e(e)}finally{t.f()}}else this.children.push(e),Ge(e,this)}},{key:"nextSibling",get:function(){var e;return(null==(e=this.parentElement)?void 0:e.children[this.index+1])||null}},{key:"insertBefore",value:function(e,n){if(n.parentElement!==this)throw new Error("insertBefore error");if(n.type===N.Frag){var t,r=p(n.childNodes);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.insertBefore(i,n)}}catch(e){r.e(e)}finally{r.f()}}else this.children.splice(n.index,0,e),Ge(e,this);return e}},{key:"index",get:function(){var e=this.parentElement;return e?e.children.indexOf(this):-1}},{key:"render",value:function(){var e,n=this,t=null==(t=O.render)?void 0:t.call(O,this);return this.children.forEach(function(e){e.deep=n.deep+1,e.render()}),"function"==typeof t&&(t=t(this)),null!=(e=O.onRenderEnd)&&e.call(O,this),t}},{key:"_findName",value:function(e){if(this.tagName===e)return this;var n,t=p(this.children);try{for(t.s();!(n=t.n()).done;){var r=n.value._findName(e);if(r)return r}}catch(e){t.e(e)}finally{t.f()}return null}}]),i}();F.Root=null;return A.CustomElement=F,A._$c=Me,A._$cc=function(e,n){return s({get:e,set:n})},A._$ce=Pe,A._$e=qe,A._$es=De,A._$if=Ue,A._$mf=ze,A._$mm=We,A._$mnr=function(e){return e.returned=!1,e},A._$mu=function(e){return e._update=!0,e},A._$r=function(e,n){return ce({v:e},n="boolean"!=typeof n?"object"===y(null==e?void 0:e.v)&&T(e.v):n)},A._$sw=He,A._$w=Be,A._if=xe,A._switch=Ae,A.addLns=k,A.arrayFuncProxy=V,A.assignCompData=se,A.assignData=le,A.assignLast=function(e,n){e[e.length-1]=n},A.binding=t,A.child=D,A.computed=s,A.createBinding=ae,A.createCleaner=Z,A.createProxy=$,A.createStore=function(e){var t=e.id,i=e.state,o=e.actions,a=e.getters,t=t||"store_".concat(he++);return function(){var r=de[t];if(!r){if(r=ue(i()),o)for(var e in o)r[e]=o[e].bind(r);if(a)for(var n in a)!function(e){Object.defineProperty(r,e,{get:function(){return a[e].call(r,r)},set:function(){throw new Error("Cannot set getters")}})}(n);(de[t]=r).$watch=function(e,n){var t;return"string"==typeof e&&(t=e,e=function(){return r[t]}),d(e,n)}}return r}},A.createUtils=re,A.defineRenderer=me,A.delay=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(e){setTimeout(function(){e(!0)},n)})},A.empty=g,A.getCurCleaner=Q,A.getFirstElement=function(e){return e?A.Renderer.isFragment(e)?e.firstChild:e:null},A.getFuncArgs=function(e){return(null==(e=e.toString().match(B))?void 0:e[0])||""},A.getStore=function(e){return de[e]||null},A.isDepReactive=ee,A.isObject=function(e){return e&&"object"===y(e)},A.isProxy=T,A.isRef=te,A.isSafari=e,A.isSimpleValue=function(e){return"object"!==y(e)||null===e},A.isStringTemplateArray=q,A.join=function(e,n){for(var t="",r=0;r<e.length-1;r++)t+="".concat(e[r]).concat("function"==typeof n?n(r):n[r]);return t+e[e.length-1]},A.map=Ce,A.mergeSet=function(n,e){return n?(e&&e.forEach(function(e){n.add(e)}),n):e},A.mockRef=u,A.observe=ne,A.pureproxy=b,A.react=ue,A.reactive=ce,A.reactiveBindingEnable=R,A.registArrayMap=G,A.replaceArrayItem=X,A.replaceLNS=ie,A.replaceWholeArray=J,A.setCurCleaner=K,A.splitTwoPart=function(e,n){return-1===(n=e.indexOf(n))?[e,""]:[e.substring(0,n).trim(),e.substring(n+1).trim()]},A.trig=a,A.type=m,A.useCurCleaner=Y,A.useRenderer=function(){Object.assign(O,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),me({querySelector:function(e){var n;return null==(n=F.Root)?void 0:n._findName(e)},createElement:function(){return new F(N.Element,"",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")},createTextNode:function(e){return new F(N.Text,e)},createEmptyMountNode:function(){return new F(N.Empty)},createFragment:function(){return new F(N.Frag)},isFragment:function(e){return e.type===N.Frag},isElement:function(e){return e.type===N.Element||e.type===N.Text},onMounted:function(e,n,t){n._onMounted=t},onRemoved:function(e,n,t){n._onRemoved=t}});var e=new F(N.Element,"","root");return F.Root=e},A.util=C,A.version="",A.watch=d,A.watchArray=oe,A.watchRef=function(e,n){return d(e,n,!1)},A.wrapReactive=c,Object.defineProperty(A,"__esModule",{value:!0}),A}({});
